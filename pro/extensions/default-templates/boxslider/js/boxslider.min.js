"use strict";var $bs=(()=>{var u=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var D=Object.prototype.hasOwnProperty;var X=(n,t)=>{for(var e in t)u(n,e,{get:t[e],enumerable:!0})},Y=(n,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of F(t))!D.call(n,r)&&r!==e&&u(n,r,{get:()=>t[r],enumerable:!(i=W(t,r))||i.enumerable});return n};var Z=n=>Y(u({},"__esModule",{value:!0}),n);var Q={};X(Q,{BoxSlider:()=>$,CarouselSlider:()=>M,CubeSlider:()=>I,FadeSlider:()=>c,TileSlider:()=>_,defaultOptions:()=>H});var h=class{elementStore;constructor(){this.elementStore=[]}storeStyles(t,e){this.applyToElements(t,(i,r)=>{let s=getComputedStyle(i);e.forEach(a=>r.styles[a]=s.getPropertyValue(a))})}storeAttributes(t,e){this.applyToElements(t,(i,r)=>{e.forEach(s=>r.attributes[s]=i.getAttribute(s))})}revert(){this.elementStore.forEach(t=>{Object.keys(t.styles).forEach(e=>t.el.style.setProperty(e,t.styles[e])),Object.keys(t.attributes).forEach(e=>{let i=t.attributes[e];e===null||e===""?t.el.removeAttribute(e):i!==null&&t.el.setAttribute(e,i)})}),this.elementStore=[]}applyToElements(t,e){(Array.isArray(t)?t:[t]).forEach(i=>{let r=this.elementStore.find(s=>s.el===i);r||(r={el:i,styles:{},attributes:{}},this.elementStore.push(r)),e(i,r)})}};var m=[],v;typeof ResizeObserver<"u"&&(v=new ResizeObserver(n=>{n.forEach(t=>m.find(e=>e.el===t.target)?.reset())}));var x={add(n){m.push(n),v?.observe(n.el)},remove(n){v?.unobserve(n.el),m=m.filter(t=>t!==n)}};var E=class{options;_stateStore;_el;_effect;slides;activeIndex;autoScrollTimer;eventListeners;elListeners;isDestroyed;transitionPromise;get el(){if(this._el===void 0)throw new Error("Slider element is null");return this._el}get stateStore(){if(this._stateStore===void 0)throw new Error("State store is null, are you trying to interact with a destroyed slider?");return this._stateStore}get effect(){if(this._effect===void 0)throw new Error("Slide effect is null, are you trying to interact with a destroyed slider?");return this._effect}constructor(t,e,i){if(this._el=t,this._stateStore=new h,this.options={autoScroll:!0,speed:800,timeout:5e3,pauseOnHover:!1,startIndex:0,swipe:!0,swipeTolerance:30,...i},this.slides=[],this.activeIndex=this.options.startIndex||0,this.eventListeners={},this.elListeners={},this.isDestroyed=!1,this.init(e,this.options),this.slides.length<this.activeIndex)throw this.destroy(),new Error(`Start index option is out of bounds - slides=${this.slides.length} start=${this.activeIndex}`);this.applyEventListeners(),x.add(this)}reset(t,e){this.stopAutoScroll(),this.effect.destroy&&this.effect.destroy(this.el),this.stateStore.revert(),this.init(e||this.effect,{...this.options,...t,startIndex:this.activeIndex})}next(){return this.skipTo(this.activeIndex===this.slides.length-1?0:this.activeIndex+1,!1)}prev(){return this.skipTo(this.activeIndex===0?this.slides.length-1:this.activeIndex-1,!0)}skipTo(t,e){return new Promise((i,r)=>{if(this.isDestroyed||t===this.activeIndex)return i();(t<0||t>=this.slides.length)&&r(new Error(`${t} is not a valid slide index`)),this.options.autoScroll&&this.stopAutoScroll();let s={el:this.el,slides:this.slides,speed:this.options.speed,currentIndex:this.activeIndex,isPrevious:e===void 0?t<this.activeIndex:e,nextIndex:t};this.transitionPromise=(this.transitionPromise||Promise.resolve()).then(()=>{requestAnimationFrame(async()=>{this.activeIndex=t,this.emit("before",{currentIndex:s.currentIndex,nextIndex:s.nextIndex,speed:s.speed}),await this.effect.transition(s).then(()=>{this.options.autoScroll&&this.setAutoScroll(),this.emit("after"),i()})})})})}pause(){return this.autoScrollTimer&&(this.stopAutoScroll(),this.emit("pause")),this}play(){return this.setAutoScroll(),this.emit("play"),this}addEventListener(t,e){return Array.isArray(this.eventListeners[t])||(this.eventListeners[t]=[]),this.eventListeners[t].push(e),this}removeEventListener(t,e){let i=this.eventListeners[t]?.filter(r=>r!==e);return this.eventListeners[t]=i,this}destroy(){this.isDestroyed=!0,this.stopAutoScroll(),this.effect.destroy&&this.effect.destroy(this.el),this.stateStore.revert(),x.remove(this),this.emit("destroy"),this.eventListeners={},Object.keys(this.elListeners).forEach(t=>this.elListeners[t].forEach(e=>this.el.removeEventListener(t,e))),this.elListeners={},delete this._el,delete this._stateStore,delete this._effect,this.slides.length=0}init(t,e){this._effect=t,this.slides=this.getSlides(),this.effect.initialize(this.el,this.slides,this.stateStore,e),this.addAriaAttributes(),this.options.autoScroll&&this.setAutoScroll()}addAriaAttributes(){this.stateStore.storeAttributes(this.el,["aria-live"]),this.el.setAttribute("aria-live","polite"),this.stateStore.storeAttributes(this.slides,["aria-roledescription"]),this.slides.forEach(t=>t.setAttribute("aria-roledescription","slide"))}getSlides(){return Array.from(this.el.children).filter(t=>t instanceof HTMLElement)}stopAutoScroll(){window.clearTimeout(this.autoScrollTimer)}emit(t,e){let i=this.eventListeners[t];t==="destroy"?i?.forEach(s=>s()):i?.forEach(r=>r({currentIndex:this.activeIndex,speed:this.options.speed,...e}))}setAutoScroll(){this.stopAutoScroll(),this.el.setAttribute("aria-live","off"),this.autoScrollTimer=window.setTimeout(()=>this.next().then(()=>{this.isDestroyed||this.setAutoScroll()}),this.options.timeout)}addElListener(t,e){this.el.addEventListener(t,e),this.elListeners[t]=this.elListeners[t]||[],this.elListeners[t].push(e)}applyEventListeners(){this.options.autoScroll&&this.options.pauseOnHover&&(this.addElListener("pointerenter",()=>this.pause()),this.addElListener("pointerleave",()=>this.play())),this.options.swipe&&this.addSwipeNavigation()}addSwipeNavigation(){let t=0;this.addElListener("pointerdown",e=>{t=e.clientX}),this.addElListener("pointerup",e=>{let i=e.clientX-t;Math.abs(i)>=this.options.swipeTolerance&&(i>0?this.prev():this.next(),e.stopPropagation())})}},$=E;var H=Object.freeze({autoScroll:!0,pauseOnHover:!1,speed:800,startIndex:0,swipe:!0,swipeTolerance:30,timeout:5e3});function o(n,t){Object.keys(t).forEach(e=>n.style.setProperty(e,t[e]))}function S(n){if(n.getAttribute("src"))return n.getAttribute("src");let t=n.querySelector("img");return t?t.currentSrc||t.getAttribute("src"):null}var j=["left","position","top","transform","transition","visibility","z-index"],q=["overflow","position"],y=class{options;constructor(t){this.options={cover:t?.cover===!0,timingFunction:t?.timingFunction||"ease-in-out"}}initialize(t,e,i,r){i.storeStyles(e,j),i.storeStyles(t,q),o(t,{overflow:"hidden"}),"static inherit".indexOf(getComputedStyle(t).position)!==-1&&o(t,{position:"relative"}),e.forEach((s,a)=>{o(s,{left:"0",position:"absolute",top:"0",transform:`translateX(${s.offsetWidth}px)`,transition:"initial",visibility:"hidden","z-index":"1"}),a===r.startIndex&&o(s,{transform:"translateX(0px)",visibility:"visible","z-index":"2"})})}transition(t){return new Promise(e=>{let i=t.slides[t.currentIndex],r=`${i.offsetWidth}px`,s=t.slides[t.nextIndex],a=`${s.offsetWidth}px`;o(s,{transform:`translateX(${t.isPrevious?"-"+a:a})`}),setTimeout(()=>{o(s,{transform:"translateX(0px)",transition:`transform ${t.speed}ms ${this.options.timingFunction}`,visibility:"visible","z-index":"2"}),o(i,{transform:this.options.cover?"translateX(0px)":`translateX(${t.isPrevious?r:"-"+r})`,transition:this.options.cover?"initial":`transform ${t.speed}ms ${this.options.timingFunction}`,visibility:"visible","z-index":"1"}),setTimeout(()=>{o(i,{transform:`translateX(${r})`,transition:"initial",visibility:"hidden"}),e()},t.speed)},0)})}},M=y;var G=["left","position","top","transform","z-index"],R=["left","overflow","position","top","transform","transform-style","transition","z-index"],N=["overflow","perspective","position"],T=class{options;translateZ;constructor(t){this.options={direction:t?.direction||"horizontal",perspective:t?.perspective||1e3}}initialize(t,e,i,r){let s=t.offsetWidth,a=t.offsetHeight,p=`${this.options.perspective}px`,l=t.parentElement;if(l==null)throw new Error("Unable to locate viewport element for Cube slider");this.translateZ=this.options.direction==="vertical"?a/2:s/2,i.storeStyles(e,G),i.storeStyles(t,R),i.storeStyles(l,N),e.forEach(d=>o(d,{left:"0",position:"absolute",top:"0"})),o(t,{left:"0",overflow:"visible",position:"absolute",top:"0"}),["absolute","fixed","relative"].indexOf(getComputedStyle(l).position)===-1&&o(l,{position:"relative"}),o(l,{overflow:"visible",perspective:p}),o(e[r.startIndex||0],{transform:`${this.rotation(0)} translate3d(0, 0, ${this.translateZ}px)`}),o(t,{"transform-style":"preserve-3d",transform:`translate3d(0, 0, -${this.translateZ}px)`}),setTimeout(()=>o(t,{transition:`transform ${r.speed}ms`}),50)}transition(t){return new Promise(e=>{let i=t.isPrevious?90:-90;o(t.slides[t.nextIndex],{transform:`${this.rotation(-i)} translate3d(0, 0, ${this.translateZ}px)`,"z-index":"2"}),o(t.el,{transition:`transform ${t.speed}ms`,transform:`translate3d(0, 0, -${this.translateZ}px) ${this.rotation(i)}`}),setTimeout(()=>{t.slides.forEach((r,s)=>{s!==t.nextIndex&&o(r,{transform:"initial"})}),o(t.el,{transition:"initial",transform:`translate3d(0, 0, -${this.translateZ}px) ${this.rotation(0)}`}),o(t.slides[t.nextIndex],{transform:`${this.rotation(0)} translate3d(0, 0, ${this.translateZ}px)`,"z-index":"1"}),e()},t.speed)})}rotation(t){return`rotate3d(${this.options.direction==="vertical"?"1, 0, 0":"0, 1, 0"}, ${t}deg)`}},I=T;var V=["display","height","left","opacity","position","top","transition","width","z-index"],U=["height","overflow","position"],c=class{options;constructor(t){this.options={timingFunction:t?.timingFunction||"ease-in"}}initialize(t,e,i,r){i.storeStyles(e,V),i.storeStyles(t,U),"static inherit".indexOf(getComputedStyle(t).position)!==-1&&o(t,{position:"relative"}),o(t,{height:`${e[r.startIndex||0].offsetHeight}px`,overflow:"hidden"}),e.forEach((s,a)=>{o(s,{height:"100%",left:"0",opacity:"2",position:"absolute",top:"0",transition:`opacity ${r.speed}ms ${this.options.timingFunction}`,width:"100%","z-index":"2"}),a!==r.startIndex&&o(s,{opacity:"0","z-index":"1"})})}transition(t){return new Promise(e=>{let i=t.slides[t.currentIndex],r=t.slides[t.nextIndex];o(i,{"z-index":"1",opacity:"0"}),o(r,{"z-index":"2",opacity:"1"}),setTimeout(e,t.speed)})}};var b=class{createTile(t){let e=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=[i,r];return e.classList.add(t.tileClass),o(e,{height:`${t.height}px`,left:`${t.fromLeft}px`,position:"absolute",top:`${t.fromTop}px`,width:`${t.width}px`}),s.forEach(a=>o(a,{"background-position":`-${t.fromLeft}px -${t.fromTop}px`,"background-size":`${t.boxWidth}px ${t.boxHeight}px`,height:`${t.height}px`,left:"0",position:"absolute",top:"0",transition:"opacity 400ms",width:`${t.width}px`})),o(i,{"background-image":`url(${t.imgSrc})`}),o(r,{opacity:"0"}),i.classList.add(t.frontClass),e.appendChild(i),r.classList.add(t.backClass),e.appendChild(r),e}transition(t,e){let i=t.querySelector(".front"),r=t.querySelector(".back");o(i,{opacity:e==="front"?"1":"0"}),o(r,{opacity:e==="front"?"0":"1"})}},C=b;var L=class{createTile(t){let e=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),a=[r,s];return o(e,{height:`${t.height}px`,left:`${t.fromLeft}px`,perspective:"400px",position:"absolute",top:`${t.fromTop}px`,width:`${t.width}px`}),i.classList.add(t.tileClass),o(i,{height:`${t.height}px`,"transform-style":"preserve-3d",transition:"transform 400ms",width:`${t.width}px`}),e.appendChild(i),o(r,{"background-image":`url(${t.imgSrc})`}),a.forEach(p=>o(p,{"background-position":`-${t.fromLeft}px -${t.fromTop}px`,"background-size":`${t.boxWidth}px ${t.boxHeight}px`,"backface-visibility":"hidden",height:`${t.height}px`,left:"0",position:"absolute",top:"0",width:`${t.width}px`})),r.classList.add(t.frontClass),i.appendChild(r),s.classList.add(t.backClass),i.appendChild(s),o(s,{transform:"rotateY(180deg)"}),e}transition(t,e){o(t,{transform:`rotate3d(0, 1, 0, ${e==="back"?180:0}deg)`})}},A=L;var g={tileEffect:"flip",rows:8,rowOffset:50},P="bs-tile",J=["position","overflow","clip","height","width","margin","padding","border"],K=["height","overflow","position"],w=class{rowCount;rowOffset;tileEffect;_tileWrapper;tileTransition;grid;activeFace;get tileWrapper(){if(this._tileWrapper===void 0)throw new Error("TileWrapper is undefined");return this._tileWrapper}constructor(t){this.tileEffect=t?.tileEffect||g.tileEffect,this.rowCount=t?.rows||g.rows,this.rowOffset=t?.rowOffset||g.rowOffset,this.activeFace="front",this.tileTransition=this.tileEffect==="fade"?new C:new A}initialize(t,e,i,r){let s=S(e[r.startIndex||0]);if(s==null)throw new Error("Unable to locate slide image src for Tile slider");let a=document.createDocumentFragment();i.storeStyles(t,K),i.storeStyles(e,J),this.grid=this.calculateGrid(t,e),this._tileWrapper&&this.destroy(t);let p=document.createElement("div");p.setAttribute("aria-hidden","true"),t.appendChild(p),this._tileWrapper=p,"fixed absolute relative".indexOf(getComputedStyle(t).position)===-1&&o(t,{position:"relative"}),o(t,{height:`${t.offsetHeight}px`,overflow:"hidden"}),o(this.tileWrapper,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}),e.forEach(l=>o(l,{position:"absolute",overflow:"hidden",clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",border:"0"}));for(let l=0;l<this.grid.rows;++l){let d=l*this.grid.sideLength;for(let f=0;f<this.grid.cols;++f)a.appendChild(this.tileTransition.createTile({backClass:"back",boxWidth:t.offsetWidth,boxHeight:t.offsetHeight,fromTop:d,fromLeft:f*this.grid.sideLength,frontClass:"front",imgSrc:s,width:this.grid.sideLength,height:this.grid.sideLength,tileClass:P}))}this.tileWrapper.appendChild(a)}transition(t){return new Promise(e=>{let i=this.tileWrapper.querySelectorAll(`.${P}`),r=this.rowOffset,s=(t.speed-r*(this.grid.rows-1))/this.grid.cols,a=S(t.slides[t.nextIndex]),p=this.activeFace==="front"?"back":"front";this.tileWrapper.querySelectorAll(`.${p}`).forEach(l=>o(l,{"background-image":`url(${a})`}));for(let l=0;l<this.grid.rows;++l){let d=l*this.grid.cols,f=0,z=d+this.grid.cols,k=l*r;setTimeout(()=>{for(;d<z;++d){let B=f*s,O=i[d];setTimeout(()=>{this.tileTransition.transition(O,p),O===i[i.length-1]&&(this.activeFace=p,e())},B),f+=1}},k)}})}destroy(t){t.removeChild(this.tileWrapper),delete this._tileWrapper}calculateGrid(t,e){let i=e[0].offsetHeight,r=this.rowCount,s=Math.ceil(i/r);return{cols:Math.ceil(t.offsetWidth/s),rows:r,sideLength:s,height:i}}},_=w;return Z(Q);})();
//# sourceMappingURL=boxslider.min.js.map
